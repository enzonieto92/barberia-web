---
// Lista de servicios en el frontmatter (servidor)
const services = [
  { id: 'corte', name: 'Corte de pelo', price: 5000 },
  { id: 'barba', name: 'Recorte de Barba', price: 3000 },
  { id: 'cejas', name: 'Perfilado de Cejas', price: 1500 },
  { id: 'custom', name: 'Diseño personalizado', price: 1500 }
];
---

<div class="space-y-3">
  {services.map(service => (
    <div class="flex items-center">
      <input
        type="checkbox"
        id={service.id}
        name="services"
        value={service.price} 
        class="h-4 w-4 text-blue-500 dark:text-blue-600 border-gray-300 rounded focus:ring-blue-500"
      />
      <label for={service.id} class="ml-3 text-sm sm:text-base">
        {service.name}: ${service.price}
      </label>
    </div>
  ))}
</div>

<div class="mt-4 text-xs">
  <strong>Total seleccionado:</strong> <span>$</span><span id="total">0</span>
</div>

<!-- Bloque <script> para manejar la lógica de los checkboxes -->
<script>
  const checkboxes = document.querySelectorAll('input[name="services"]');
  const totalElement = document.getElementById('total') || { textContent: '0' };

  // Actualizamos el total cada vez que un checkbox cambia
  checkboxes.forEach(checkbox => {
    checkbox.addEventListener('change', () => {
      let total = 0;
      checkboxes.forEach(cbox => {
        if (cbox.checked) {
          total += parseFloat(cbox.value); // Sumamos los valores de los checkboxes seleccionados
        }
      });
      totalElement.textContent = total.toFixed(2); // Actualizamos el total en el DOM
    });
  });
</script>
